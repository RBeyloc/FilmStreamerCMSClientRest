<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="https://kit.fontawesome.com/ed663e4c4c.js" crossorigin="anonymous"></script>
    <title>Movie streamer - users list</title>
</head>
<body>
<nav class="w3-bar w3-border w3-black">
    <a th:href="@{/movies/movies}" class="w3-bar-item w3-button w3-hover-none w3-text-grey w3-hover-text-white">Home</a>
    <a th:href="@{/users/users}" class="w3-bar-item w3-button w3-hover-none w3-text-white w3-hover-text-white">Users</a>
    <a th:href="@{/movies/movies}" class="w3-bar-item w3-button w3-hover-none w3-text-grey w3-hover-text-white">Movies</a>
    <a th:href="@{/users/newUserForm}" class="w3-bar-item w3-button w3-hover-none w3-text-grey w3-hover-text-white w3-right">Add new user</a>
</nav>
<main class="w3-container w3-center">
    <div class="w3-center">
        <h3>List of User</h3>
    </div>

    <div class="w3-row-padding w3-center w3-container w3-margin">

    <table class="w3-table-all w3-hoverable">
        <tr th:each="user:${allUsers}">
            <td th:text="${user.userUUID}"></td>
            <td th:text="${user.userFirstName}"></td>
            <td th:text="${user.userLastName}"></td>
            <td th:text="${user.userEmail}"></td>
            <td th:text="${user.userRol}"></td>
            <td th:text="${user.birthDate}"></td>
            <td th:text="${user.password}"></td>

            <td><button th:id-user="${user.userUUID}" th:onclick="deleteUserAskForConfirmation(this.getAttribute('id-user'))" class="w3-button w3-red">Delete this user</button></td>

        </tr>
    </table>
    </div>
</main>

<!-- The Modal -->
<div id="id01" class="w3-modal">
    <div class="w3-modal-content">
        <div class="w3-container">
            <span onclick="document.getElementById('id01').style.display='none'"
            class="w3-button w3-display-topright">&times;</span>
            <p id="message"></p>
            <button id="confirm" class="w3-button w3-green">Confirm</button>
            <button id="deny" class="w3-button w3-red" onclick="document.getElementById('id01').style.display='none'; ">Close</button>
            <br/><br/>
        </div>
    </div>
</div>

<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="/js/user.js"></script>
</body>
</html>